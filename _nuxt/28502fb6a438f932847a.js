(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{391:function(t,e,r){"use strict";r.d(e,"e",(function(){return O})),r.d(e,"c",(function(){return T})),r.d(e,"b",(function(){return C})),r.d(e,"d",(function(){return H})),r.d(e,"a",(function(){return A}));r(104);var o=r(4),n=(r(49),r(27),r(47),r(22),r(18),r(35),r(6)),l=r(9),h=r(8),d=r(10),f=r(76),m=r(812),c=r.n(m),v=r(366),_=r.n(v),y=r(423),$=r.n(y),w=r(5),k=function(t){function e(){return Object(n.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),e}(f.Enum);function x(t){var e,r=0;do{r+=(e=0===r?t:$.a.agesCost[e.unrefined][0]).coins+e.supplies}while(null!==e.unrefined);return r}k.initEnum(["SIMPLE","FAIR"]);var V={SIMPLE:function(){var t={};for(var e in $.a.agesCost){t[e]={};var r=Object.keys($.a.agesCost).indexOf(e);for(var o in $.a.agesCost){var n=Object.keys($.a.agesCost).indexOf(o);t[e][o]=n===r-1?2:n===r+1?.5:n===r?1:0}}return t}(),FAIR:function(){var t={};for(var e in $.a.agesCost)for(var r in t[e]={},$.a.agesCost)t[e][r]=x($.a.agesCost[e][0])/x($.a.agesCost[r][0]);return t}()};function I(t,e){var r=[];for(var o in t[e])t[e][o]>=.5&&t[e][o]<=2&&r.push({key:o,cost:t[e][o]});return r}function N(t,e,r){var o=[],n=r;do{o.push(t[n].key),n=t[n].parent}while(n!==e);return e!==r&&o.push(e),o}function P(t,e,r,o){for(var n=function(t,e,r){var o=Object.keys(V[t.name]),n=o.indexOf(e),l=o.indexOf(r),h=new c.a({comparator:function(u,t){return n<l?u.cost<t.cost?-1:u.cost>t.cost?1:0:u.cost>t.cost?-1:1}});h.queue({key:e,cost:0});var d,f={};if(n===l)return f[r]={key:r,cost:1,parent:r},N(f,e,r);do{if((d=h.dequeue()).key===r)return N(f,e,r);var m=!0,v=!1,_=void 0;try{for(var y,$=I(V[t.name],d.key)[Symbol.iterator]();!(m=(y=$.next()).done);m=!0){var w=y.value;Object.keys(f).indexOf(w.key)<0&&(h.queue({key:w.key,cost:w.cost+d.cost}),f[w.key]={key:w.key,cost:w.cost+d.cost,parent:d.key})}}catch(t){v=!0,_=t}finally{try{m||null==$.return||$.return()}finally{if(v)throw _}}}while(0!==h.length)}(t,e,r),l=[{key:n[0],amount:o}],i=1;i<n.length;i++)l.push({key:n[i],amount:Math.ceil(l[i-1].amount*V[t.name][n[i-1]][n[i]])});return l.reverse()}function S(t,e,r){if("number"!=typeof r)throw new w.g({expected:"number",actual:Object(o.a)(r),additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)});if(r<=0)throw new w.b({type:w.a["<="],value:r,boundValue:0,additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)})}function F(t,e,r){var o=Object.keys(_.a).slice(1);if(o.indexOf(r)<0)throw new w.g({expected:o,actual:r,additionalMessage:'for parameter "'.concat(t,'" of ').concat(e)})}function O(t,e,r,o){var n="splitGoods(toValue, splitValue, ratioFromTo, ratioToFrom)";S("toValue",n,t),S("splitValue",n,e),S("ratioFromTo",n,r),S("ratioToFrom",n,o);var l=Math.ceil(t*o),h=r<1?l:t,d=[];h<=e?d.push({from:l,to:t,count:1}):d.push({from:l===h?e:Math.round(e*o),to:t===h?e:Math.ceil(e*r),count:Math.floor(h/e)});var f=t-d[0].to*d[0].count;return f<=0?d.push({from:0,to:0}):d.push({from:Math.round(f*o),to:f}),d}function T(t,e,r,n,l){var h="getBestOffersSplitted(tradeInput, iHave, iWant, amount, splitValue)";if(!(t instanceof k))throw new w.g({expected:"TradeArray",actual:Object(o.a)(t),additionalMessage:'for parameter "tradeInput" of '.concat(h)});F("iHave",h,e),F("iWant",h,r),S("amount",h,n),S("splitValue",h,l);var d=P(t,e,r,n);if(1===d.length)return d[0].split=O(1e3,l,1,1),d;for(var i=d.length-2;i>=0;i--)if(d[i].split=O(d[i+1].amount,l,V[t.name][d[i].key][d[i+1].key],V[t.name][d[i+1].key][d[i].key]),d[i].split instanceof Array){var f=0;d[i].split.map((function(t){return{value:t.from,count:t.count?t.count:1}})).reduce((function(t,e){void 0!==t&&(f+=t.value*t.count),f+=e.value*e.count})),d[i].amount=f}return d}var C=V.FAIR,H=V.SIMPLE,A=k},418:function(t,e,r){"use strict";r(104),r(22),r(18);var o=r(2),n=r(3),l=r(391),h=r(423),d=r(366),f=r.n(d),m=r(62),c={name:"SimpleTrade",props:{tradeArray:{type:Object,required:!0}},data:function(){var data={i18nPrefix:"components.simple_trade.",agesGoods:h.agesGoods,value:0,values:{},currentAge:null,results:{},split:!1,splitValueId:"splitValue"+this._uid,splitValue:1e3,maxSplitValue:1e3,showRatio:!1,errors:{splitValue:!1}};for(var t in h.agesGoods)data.values[t]=0,data.results[t]={show:!1,value:0,ratio:0,split:""};return data},watch:{split:function(){this.$data.splitValue=1e3,this.compute()},splitValue:function(t){n.a.inRange(t,0,1e3)?(this.$data.errors.splitValue=!1,this.compute()):this.$data.errors.splitValue=!0}},methods:{resetForm:function(t){for(var e in h.agesGoods)t!==e&&o.a.set(this.$data.values,e,0),this.$data.results[e]={show:!1,value:0,ratio:0,split:""}},resetFormIfAllZero:function(t){for(var e in h.agesGoods)if(this.$data.values[e]>0)return;this.resetForm(t)},haveError:function(t){return t in f.a?this.$data.values[t]>1e3?"is-warning":void 0:this.$data.errors[t]?"is-danger":""},compute:function(){var t=this.$data.currentAge;for(var e in this.$props.tradeArray[t])if(n.a.inRange(this.$props.tradeArray[t][e],.5,2)){var r=Math.round(this.$props.tradeArray[t][e]*this.$data.values[t]),h=r;this.$data.split&&(h=0===(h=Object(l.e)(n.a.normalizeNumberValue(this.$data.values[t]),n.a.normalizeNumberValue(this.$data.splitValue,1e3),this.$props.tradeArray[t][e],this.$props.tradeArray[e][t]))[1].from?this.$t("components.trade.split_message.common",{count:this.$formatNumber(h[0].count),valueFrom:this.$formatNumber(h[0].from),ageFrom:this.$t("foe_data.age_short."+t),valueTo:this.$formatNumber(h[0].to),ageTo:this.$t("foe_data.age_short."+e)}):this.$t("components.trade.split_message.multi",{count:this.$formatNumber(h[0].count),valueFrom:this.$formatNumber(h[0].from),ageFrom:this.$t("foe_data.age_short."+t),valueTo:this.$formatNumber(h[0].to),ageTo:this.$t("foe_data.age_short."+e),valueFromSingle:this.$formatNumber(h[1].from),valueToSingle:this.$formatNumber(h[1].to)})),o.a.set(this.$data.results[e],"show",!0),this.$data.results[e].value=this.$formatNumber(r),this.$data.results[e].split=h,this.$data.results[e].ratio=n.a.roundTo(this.$props.tradeArray[t][e],2)}},getBestRates:function(t){this.resetForm(t),this.$data.currentAge=t,this.compute()}},components:{YesNo:m.a}},v=r(13),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4 margin-top-one-em"},[t._v(t._s(t.$t(t.i18nPrefix+"title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"slpit")},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}}),r("yes-no",{attrs:{label:t.$t(t.i18nPrefix+"show_ratio")},model:{value:t.showRatio,callback:function(e){t.showRatio=e},expression:"showRatio"}})],1),r("div",{staticClass:"column is-half"},[r("b-field",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}],attrs:{label:t.$t("components.trade.split_value",{count:t.maxSplitValue}),"label-for":t.splitValueId,type:t.haveError("splitValue")}},[r("b-input",{attrs:{id:t.splitValueId,type:"number",min:"0",max:t.maxSplitValue,name:"splitValue",autocomplete:"off"},model:{value:t.splitValue,callback:function(e){t.splitValue=t._n(e)},expression:"splitValue"}})],1)],1)]),r("div",{staticClass:"table-wrapper"},[r("table",{staticClass:"table is-bordered is-striped is-narrow is-fullwidth trade"},[r("thead",[r("tr",[r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th1")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th2")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th3")))]),r("th",[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.th4")))]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}]},[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.ratio")))]),r("th",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}]},[t._v(t._s(t.$t(t.i18nPrefix+"table.thead.split")))])])]),r("tbody",t._l(t.agesGoods,(function(e,o){return r("tr",{key:o},[r("td",[t._v(t._s(t.$t("foe_data.age."+o)))]),r("td",{staticClass:"has-text-centered"},t._l(e.goods,(function(e){return r("figure",{staticClass:"image-inherit image is-24x24"},[r("img",{attrs:{src:"/img/foe/goods/"+e.key+".png",alt:t.$t("foe_data.goods."+e.key),title:t.$t("foe_data.goods."+e.key)}})])})),0),r("td",[r("b-field",{attrs:{type:t.haveError(o)}},[r("b-input",{attrs:{type:"number",min:"0",name:o+"_value",autocomplete:"off"},on:{input:function(e){e>0?t.getBestRates(o):t.resetFormIfAllZero(o)}},model:{value:t.values[o],callback:function(e){t.$set(t.values,o,t._n(e))},expression:"values[key]"}})],1)],1),r("td",[t.$data.results[o].show?r("p",[t._v(t._s(t.$data.results[o].value))]):t._e()]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.showRatio,expression:"showRatio"}]},[r("p",[t._v(t._s(t.$data.results[o].ratio))])]),r("td",{directives:[{name:"show",rawName:"v-show",value:t.split,expression:"split"}]},[t.$data.results[o].show?r("p",[t._v(t._s(t.$data.results[o].split))]):t._e()])])})),0)])])])}),[],!1,null,null,null);e.a=component.exports},419:function(t,e,r){"use strict";r(22),r(18),r(35);var o=r(2),n=r(391),l=r(3),h={name:"trade",props:{tradeInput:{type:Object,required:!0}},data:function(){var t=Object.keys(this.$props.tradeInput.value)[0];return{i18nPrefix:"components.trade.",iHave:t,iWant:t,iHaveId:"iHave"+this._uid,iWantId:"iWant"+this._uid,splitValueId:"splitValue"+this._uid,splitValue:1e3,maxSplitValue:1e3,valueId:"iWantValue"+this._uid,value:0,result:[],errors:{iHave:!1,iWant:!1,splitValue:!1,value:!1},warnings:{iHave:!1,iWant:!1,splitValue:!1,value:!1}}},watch:{iHave:function(t){Object.keys(this.$props.tradeInput.value).indexOf(t)>=0?(this.$data.errors.iHave=!1,this.compute()):this.$data.errors.iHave=!0},iWant:function(t){Object.keys(this.$props.tradeInput.value).indexOf(t)>=0?(this.$data.errors.iWant=!1,this.compute()):this.$data.errors.iWant=!0},splitValue:function(t){t&&"number"!=typeof t&&t.length>0?this.$data.errors.splitValue=!0:l.a.inRange(t&&0!==t.length?t:0,1,1e3)?(this.$data.errors.splitValue=!1,this.compute()):this.$data.errors.splitValue=!0},value:function(t){if(t&&"number"!=typeof t&&t.length>0)this.$data.errors.value=!0;else{var e=t&&0!==t.length?t:0;e>=0?(e<=1e3?(this.$data.errors.value=!1,this.$data.warnings.value=!1):(this.$data.errors.value=!1,this.$data.warnings.value=!0),this.compute()):this.$data.errors.value=!0}}},methods:{haveError:function(t){return this.$data.errors[t]?"is-danger":this.$data.warnings[t]?"is-warning":""},compute:function(){0===l.a.normalizeNumberValue(this.$data.value)||0===l.a.normalizeNumberValue(this.$data.splitValue)?o.a.set(this.$data,"result",[]):o.a.set(this.$data,"result",Object(n.c)(this.$props.tradeInput.type,this.$data.iHave,this.$data.iWant,l.a.normalizeNumberValue(this.$data.value),l.a.normalizeNumberValue(this.$data.splitValue)))}}},d=r(13),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"title is-4"},[t._v(t._s(t.$t(t.i18nPrefix+"title")))]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.i_have"),"label-for":t.iHaveId}},[r("b-select",{attrs:{id:t.iHaveId,expanded:""},model:{value:t.iHave,callback:function(e){t.iHave=e},expression:"iHave"}},t._l(t.tradeInput.value,(function(e,o){return r("option",{key:o,domProps:{value:o}},[t._v(t._s(t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+o)))])})),0)],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"split_value",{count:t.maxSplitValue}),"label-for":t.splitValueId,type:t.haveError("splitValue")}},[r("b-input",{attrs:{id:t.splitValueId,type:"number",min:"0",max:t.maxSplitValue,name:"splitValue",autocomplete:"off"},model:{value:t.splitValue,callback:function(e){t.splitValue=t._n(e)},expression:"splitValue"}})],1)],1)]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.i_want"),"label-for":t.iWantId}},[r("b-select",{attrs:{id:t.iWantId,expanded:""},model:{value:t.iWant,callback:function(e){t.iWant=e},expression:"iWant"}},t._l(t.tradeInput.value,(function(e,o){return r("option",{key:o,domProps:{value:o}},[t._v(t._s(t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+o)))])})),0)],1)],1),r("div",{staticClass:"column is-half"},[r("b-field",{attrs:{label:t.$t(t.i18nPrefix+"label.amount"),type:t.haveError("value"),"label-for":t.valueId}},[r("b-input",{attrs:{id:t.valueId,type:"number",min:"0",name:t.valueId,autocomplete:"off"},model:{value:t.value,callback:function(e){t.value=t._n(e)},expression:"value"}})],1)],1)]),t.result.length>0?r("p",[t._v(t._s(t.$t(t.i18nPrefix+"message.result",{from:t.$formatNumber(t.result[0].amount),to:t.$formatNumber(t.value),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+t.iHave),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age":"goods")+"."+t.iWant),count:t.splitValue})))]):t._e(),t.result.length>1?r("ul",t._l(t.result,(function(e,o){return o<t.result.length-1?r("li",{key:o},[e.split[1].from>0?r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.multi",{count:t.$formatNumber(e.split[0].count),valueFrom:t.$formatNumber(e.split[0].from),valueTo:t.$formatNumber(e.split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key),valueFromSingle:t.$formatNumber(e.split[1].from),valueToSingle:t.$formatNumber(e.split[1].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(e.amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key)})))]):r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.common",{count:t.$formatNumber(e.split[0].count),valueFrom:t.$formatNumber(e.split[0].from),valueTo:t.$formatNumber(e.split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[o+1].key),valueFromSingle:t.$formatNumber(e.split[1].from),valueToSingle:t.$formatNumber(e.split[1].to)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(e.amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+e.key)})))])]):t._e()})),0):t._e(),1===t.result.length?r("ul",[r("li",[t.result[0].split[1].from>0?r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.multi",{count:t.$formatNumber(t.result[0].split[0].count),valueFrom:t.$formatNumber(t.result[0].split[0].from),valueTo:t.$formatNumber(t.result[0].split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),valueFromSingle:t.$formatNumber(t.result[0].split[1].from),valueToSingle:t.$formatNumber(t.result[0].split[1].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(t.result[0].amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)})))]):r("span",[t._v(t._s(t.$t(t.i18nPrefix+"split_message.common",{count:t.$formatNumber(t.result[0].split[0].count),valueFrom:t.$formatNumber(t.result[0].split[0].from),valueTo:t.$formatNumber(t.result[0].split[0].to),ageFrom:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),ageTo:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key),valueFromSingle:t.$formatNumber(t.result[0].split[1].from),valueToSingle:t.$formatNumber(t.result[0].split[1].to)}))+" "+t._s(t.$t(t.i18nPrefix+"message.total",{amount:t.$formatNumber(t.result[0].amount),key:t.$t("foe_data."+(t.tradeInput.age?"age_short":"goods")+"."+t.result[0].key)})))])])]):t._e()])}),[],!1,null,null,null);e.a=component.exports},812:function(t,e,r){var o;t.exports=function t(e,r,n){function s(l,u){if(!r[l]){if(!e[l]){if(!u&&"function"==typeof o&&o)return o(l,!0);if(i)return i(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=r[l]={exports:{}};e[l][0].call(d.exports,(function(t){var r=e[l][1][t];return s(r||t)}),d,d.exports,t,e,r,n)}return r[l].exports}for(var i="function"==typeof o&&o,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(t,e,r){var o,n,l,h,d,f={}.hasOwnProperty;o=t("./PriorityQueue/AbstractPriorityQueue"),n=t("./PriorityQueue/ArrayStrategy"),h=t("./PriorityQueue/BinaryHeapStrategy"),l=t("./PriorityQueue/BHeapStrategy"),(d=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=h),t.comparator||(t.comparator=function(a,b){return(a||0)-(b||0)}),e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)f.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),e}(o)).ArrayStrategy=n,d.BinaryHeapStrategy=h,d.BHeapStrategy=l,e.exports=d},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var o;o=function(t,e,r){var o,n,l;for(n=0,o=t.length;n<o;)r(t[l=n+o>>>1],e)>=0?n=l+1:o=l;return n},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=o(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,o,n,l,h,d,f;for(this.comparator=(null!=t?t.comparator:void 0)||function(a,b){return a-b},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,d=0;1<<d<this.pageSize;)d+=1;if(1<<d!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=d,this._emptyMemoryPageTemplate=e=[],r=0,l=this.pageSize;0<=l?r<l:r>l;0<=l?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(o=0,n=(h=t.initialValues).length;o<n;o++)f=h[o],this.queue(f)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;for(r=t>>this._shift;r>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,o,n,l;for(r=this.comparator;t>1&&(o=t&this._mask,t<this.pageSize||o>3?n=t&~this._mask|o>>1:o<2?(n=t-this.pageSize>>this._shift,n+=n&~(this._mask>>1),n|=this.pageSize>>1):n=t-2,!(r(l=this._read(n),e)<0));)this._write(n,e),this._write(t,l),t=n},t.prototype._bubbleDown=function(t,e){var r,o,n,l,h;for(h=this.comparator;t<this.length;)if(t>this._mask&&!(t&this._mask-1)?r=o=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,o=1+(r=1+(r|=t&this._mask>>1)<<this._shift)):o=(r=t+(t&this._mask))+1,r!==o&&o<=this.length)if(n=this._read(r),l=this._read(o),h(n,e)<0&&h(n,l)<=0)this._write(r,e),this._write(t,n),t=r;else{if(!(h(l,e)<0))break;this._write(o,e),this._write(t,l),t=o}else{if(!(r<=this.length))break;if(!(h(n=this._read(r),e)<0))break;this._write(r,e),this._write(t,n),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(a,b){return a-b},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var i,t,e;if(this.data.length>0)for(i=t=1,e=this.data.length;1<=e?t<e:t>e;i=1<=e?++t:--t)this._bubbleUp(i)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){for(var e,r;t>0&&(e=t-1>>>1,this.comparator(this.data[t],this.data[e])<0);)r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e},t.prototype._bubbleDown=function(t){var e,r,o,n,l;for(e=this.data.length-1;n=1+(r=1+(t<<1)),o=t,r<=e&&this.comparator(this.data[r],this.data[o])<0&&(o=r),n<=e&&this.comparator(this.data[n],this.data[o])<0&&(o=n),o!==t;)l=this.data[o],this.data[o]=this.data[t],this.data[t]=l,t=o},t}()},{}]},{},[1])(1)}}]);