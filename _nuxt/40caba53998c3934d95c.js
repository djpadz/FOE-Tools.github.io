(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{376:function(e,t,r){"use strict";var _=r(19),n=r(377)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),_(_.P+_.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(105)("find")},377:function(e,t,r){var _=r(48),n=r(106),o=r(61),c=r(41),l=r(378);e.exports=function(e,t){var r=1==e,d=2==e,f=3==e,h=4==e,v=6==e,E=5==e||v,m=t||l;return function(t,l,y){for(var P,O,D=o(t),$=n(D),M=_(l,y,3),w=c($.length),k=0,x=r?m(t,w):d?m(t,0):void 0;w>k;k++)if((E||k in $)&&(O=M(P=$[k],k,D),e))if(r)x[k]=O;else if(O)switch(e){case 3:return!0;case 5:return P;case 6:return k;case 2:x.push(P)}else if(h)return!1;return v?-1:f||h?h:x}}},378:function(e,t,r){var _=r(379);e.exports=function(e,t){return new(_(e))(t)}},379:function(e,t,r){var _=r(28),n=r(283),o=r(12)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),_(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},387:function(e,t,r){"use strict";r(104);var _={props:{sitekey:{type:String,required:!0},badge:{type:String,required:!1,default:"bottomright"},theme:{type:String,required:!1,default:"dark"},validate:{type:Function,required:!1},callback:{type:Function,required:!0},disabled:{type:Boolean,required:!1,default:!1},id:{type:String,required:!1},reference:{type:String,required:!1},type:{type:String,required:!1,default:"submit"}},data:function(){return{widgetId:!1,loaded:!1}},methods:{render:function(){var e=this;this.widgetId=grecaptcha.render(this.recaptchaId,{sitekey:this.sitekey,size:"invisible",badge:this.badge,theme:this.theme,callback:function(t){e.callback(t),grecaptcha.reset(e.widgetId)}}),this.loaded=!0},renderWait:function(){var e=this;setTimeout((function(){"undefined"!=typeof grecaptcha&&grecaptcha.render?e.render():e.renderWait()}),200)},click:function(){(!this.validate||this.validate&&!1!==this.validate())&&grecaptcha.execute()}},computed:{computedClass:function(){var e=this.class?this.class.split(" "):[];return this.value&&e.push("invisible-recaptcha"),e},recaptchaId:function(){return"vue-invisible-recaptcha-"+this._uid}},mounted:function(){if("undefined"==typeof grecaptcha){var script=document.createElement("script");script.src="https://www.google.com/recaptcha/api.js?render=explicit",script.onload=this.renderWait,document.head.appendChild(script)}else this.render()}},n=r(13),component=Object(n.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{ref:e.reference,class:e.computedClass,attrs:{id:e.id,type:e.type,disabled:!e.loaded||e.disabled},on:{click:function(t){return t.preventDefault(),e.click(t)}}},[r("div",{attrs:{id:e.recaptchaId,"data-size":"invisible"}}),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},823:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(376),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(63),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(49),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(27),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__),vue_invisible_recaptcha__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(387),_scripts_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),i18nPrefix="routes.survey.";__webpack_exports__.default={head:function(){return this.$store.commit("SET_HERO",{title:i18nPrefix+"hero.title",subtitle:i18nPrefix+"hero.subtitle"}),{title:this.$t(i18nPrefix+"title")}},beforeRouteEnter:function(e,t,r){r((function(e){e.$store.state.survey&&0!==e.$store.state.survey.length||e.$router.push({name:"index"})}))},data:function(){return this.$store.commit("SET_CURRENT_LOCATION","survey"),this.$store.commit("RESTORE_HERO"),{i18nPrefix:i18nPrefix,result:{},errors:{},loading:!1}},computed:{survey:function(){var e={survey:this.$store.state.survey&&this.$store.state.survey.length?this.$store.state.survey[0].survey.questions:[],result:{}},t=!0,r=!1,_=void 0;try{for(var n,o=e.survey[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var c=n.value;if(this.$data.errors[c.name]=!1,"checkbox"===c.type)e.result[c.name]=[];else if("matrix"===c.type){e.result[c.name]={};var l=!0,d=!1,f=void 0;try{for(var h,v=c.rows[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var E=h.value;e.result[c.name][E.value]=null}}catch(e){d=!0,f=e}finally{try{l||null==v.return||v.return()}finally{if(d)throw f}}}else["html"].indexOf(c.type)<0&&(e.result[c.name]=null)}}catch(e){r=!0,_=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw _}}return this.$data.result=e.result,e.survey},sitekey:function(){return"6Le0qqAUAAAAADcXlFuBa9hfCXfdUi53i85sWzSp"}},methods:{getSurveyLocal:function(e){return this.$store.state.locale in e?e[this.$store.state.locale]:e.default},getConstraint:function(e,t){return e.validators.filter((function(e){return t in e})).map((function(e){return e[t]}))[0]},checkCondition:function checkCondition(question){var _this=this,r;if(!question.visibleIf)return!0;var simpleExpression=/{(\w+)}\s*=\s*('?\w+'?)/,containsExpression=/{(\w+)}\s*contains\s*"?'?(\w+)'?"?/,customExpression=/\{([^{]+)\}/g;return simpleExpression.test(question.visibleIf)?(r=simpleExpression.exec(question.visibleIf),eval("".concat(this.$data.result[r[1]],"===").concat(r[2]))):containsExpression.test(question.visibleIf)?(r=containsExpression.exec(question.visibleIf),this.$data.result[r[1]]&&this.$data.result[r[1]].indexOf(r[2])>=0):eval(question.visibleIf.replace(customExpression,(function(e,text){return _this.$data.result[text]?"'".concat(_this.$data.result[text].replace(/\n/gm,""),"'"):"''"})))},callback:function(e){var t=this;this.$axios.post("https://ns382954.ip-5-196-72.eu/surveyresponses",{response:{response:this.$data.result,survey:this.$store.state.survey[0].id},captcha:e}).then((function(){t.$data.loading=!1,t.complete({message:t.$t(i18nPrefix+"survey_complete"),type:"is-success",indefinite:!0})})).catch((function(e){t.$data.loading=!1,400===e.response.status?t.$buefy.notification.open({message:t.$t(i18nPrefix+"error"),type:"is-danger",indefinite:!0}):t.$buefy.notification.open({message:t.$t(i18nPrefix+"unknown_error"),type:"is-danger",indefinite:!0}),console.error("error: ",e)}))},prepare:function(){var e=this,t=this.$refs.formSurvey.reportValidity();if(!t)return!1;var r=!0,_=!1,n=void 0;try{for(var o,c=this.survey[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;this.$data.errors[l.name]=!1}}catch(e){_=!0,n=e}finally{try{r||null==c.return||c.return()}finally{if(_)throw n}}var d=function(r){var _=e.survey.find((function(e){return e.name===r}));if(e.$data.result[r]instanceof Array&&_.isRequired&&e.checkCondition(_)&&0===e.$data.result[r].length||e.survey.find((function(e){return e.name===r})).isRequired&&e.checkCondition(_)&&null===e.$data.result[r])e.$data.errors[r]=!0,t=!1;else if("object"===Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.a)(e.$data.result[r])&&_.isRequired&&e.checkCondition(_))for(var n in e.$data.result[r])if(null===e.$data.result[r][n]){e.$data.errors[r]=!0,t=!1;break}};for(var f in this.$data.result)d(f);return this.$forceUpdate(),!!t&&(this.$data.loading=!0,!0)},getErrorMessage:function(e){return e.isRequired&&this.$data.errors[e.name]?this.$t(i18nPrefix+"required_field"):""},complete:function(e){var t=this.$cookies.get("survey");t||(t=[]),t.push(this.$store.state.survey[0].id),this.$cookies.set("survey",t,{path:"/",expires:_scripts_utils__WEBPACK_IMPORTED_MODULE_8__.a.getDefaultCookieExpireTime()}),this.$buefy.notification.open(e),this.$router.push("/"),this.$store.dispatch("nuxtServerInit")}},components:{InvisibleRecaptcha:vue_invisible_recaptcha__WEBPACK_IMPORTED_MODULE_7__.a}}}}]);